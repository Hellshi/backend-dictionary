# Back-end Challenge üèÖ 2022 - Dictionary

## Introdu√ß√£o

Este √© um desafio para que possamos ver as suas habilidades como Back-end Developer.

Nesse desafio voc√™ dever√° desenvolver um aplicativo para listar palavras em ingl√™s, utilizando como base a API [Words API](https://www.wordsapi.com/). O projeto a ser desenvolvido por voc√™ tem como objetivo exibir termos em ingl√™s e gerenciar as palavras visualizadas, conforme indicado nos casos de uso que est√£o logo abaixo.

[SPOILER] As instru√ß√µes de entrega e apresenta√ß√£o do challenge est√£o no final deste Readme (=

### Antes de come√ßar
 
- Prepare o projeto para ser disponibilizado no Github, copiando o conte√∫do deste reposit√≥rio para o seu (ou utilize o fork do projeto e aponte para o Github). Confirme que a visibilidade do projeto √© p√∫blica (n√£o esque√ßa de colocar no readme a refer√™ncia a este challenge);
- O projeto deve utilizar a Linguagem espec√≠fica na sua Vaga (caso esteja se candidatando). Por exempo: Python, R, Scala e entre outras;
- Considere como deadline 5 dias a partir do in√≠cio do desafio. Caso tenha sido convidado a realizar o teste e n√£o seja poss√≠vel concluir dentro deste per√≠odo, avise a pessoa que o convidou para receber instru√ß√µes sobre o que fazer.
- Documentar todo o processo de investiga√ß√£o para o desenvolvimento da atividade (README.md no seu reposit√≥rio); os resultados destas tarefas s√£o t√£o importantes do que o seu processo de pensamento e decis√µes √† medida que as completa, por isso tente documentar e apresentar os seus hip√≥teses e decis√µes na medida do poss√≠vel.

#### Tecnologias (Back-End):
- API (Node.js, PHP, Ruby, etc) com ou sem uso de frameworks
- Banco de dados (Postgres, MySQL, MongoDB, etc).

Como sugest√µes, pode criar um banco de dados gr√°tis **MongoDB** usando Atlas: https://www.mongodb.com/cloud/atlas ou banco de dados gr√°tis **MySQL** no Heroku: https://elements.heroku.com/addons/jawsdb ou banco de dados gr√°tis **Postgres** no Heroku: https://elements.heroku.com/addons/heroku-postgresql; (Recomend√°vel usar Drivers oficiais para integra√ß√£o com o DB)

#### Organiza√ß√£o:
- Aplica√ß√£o de padr√µes Clean Code
- Valida√ß√£o de chamadas ass√≠ncronas para evitar travamentos

### Modelo de Dados:

Conforme indicado na documenta√ß√£o da API, a estrutura de dados presente retorna as seguintes informa√ß√µes:

```json
{
  "word": "example",
  "results": [
    {
      "definition": "a representative form or pattern",
      "partOfSpeech": "noun",
      "synonyms": [
        "model"
      ],
      "typeOf": [
        "representation",
        "internal representation",
        "mental representation"
      ],
      "hasTypes": [
        "prefiguration",
        "archetype",
        "epitome",
        "guide",
        "holotype",
        "image",
        "loadstar",
        "lodestar",
        "microcosm",
        "original",
        "paradigm",
        "pilot",
        "prototype",
        "template",
        "templet",
        "type specimen"
      ],
      "derivation": [
        "exemplify"
      ],
      "examples": [
        "I profited from his example"
      ]
    },
    {
      "definition": "something to be imitated",
      "partOfSpeech": "noun",
      "synonyms": [
        "exemplar",
        "good example",
        "model"
      ],
      "typeOf": [
        "ideal"
      ],
      "hasTypes": [
        "pacemaker",
        "pattern",
        "beauty",
        "prodigy",
        "beaut",
        "pacesetter"
      ],
      "derivation": [
        "exemplify",
        "exemplary"
      ]
    },
    {
      "definition": "an occurrence of something",
      "partOfSpeech": "noun",
      "synonyms": [
        "case",
        "instance"
      ],
      "typeOf": [
        "happening",
        "natural event",
        "occurrence",
        "occurrent"
      ],
      "hasTypes": [
        "clip",
        "mortification",
        "piece",
        "time",
        "humiliation",
        "bit"
      ],
      "derivation": [
        "exemplify"
      ],
      "examples": [
        "but there is always the famous example of the Smiths"
      ]
    },
    {
      "definition": "an item of information that is typical of a class or group",
      "partOfSpeech": "noun",
      "synonyms": [
        "illustration",
        "instance",
        "representative"
      ],
      "typeOf": [
        "information"
      ],
      "hasTypes": [
        "excuse",
        "apology",
        "specimen",
        "case in point",
        "sample",
        "exception",
        "quintessence",
        "precedent"
      ],
      "derivation": [
        "exemplify",
        "exemplary"
      ],
      "examples": [
        "this patient provides a typical example of the syndrome",
        "there is an example on page 10"
      ]
    },
    {
      "definition": "punishment intended as a warning to others",
      "partOfSpeech": "noun",
      "synonyms": [
        "deterrent example",
        "lesson",
        "object lesson"
      ],
      "typeOf": [
        "monition",
        "admonition",
        "word of advice",
        "warning"
      ],
      "derivation": [
        "exemplary"
      ],
      "examples": [
        "they decided to make an example of him"
      ]
    },
    {
      "definition": "a task performed or problem solved in order to develop skill or understanding",
      "partOfSpeech": "noun",
      "synonyms": [
        "exercise"
      ],
      "typeOf": [
        "lesson"
      ],
      "examples": [
        "you must work the examples at the end of each chapter in the textbook"
      ]
    }
  ],
  "syllables": {
    "count": 3,
    "list": [
      "ex",
      "am",
      "ple"
    ]
  },
  "pronunciation": {
    "all": "…™…°'z√¶mp…ôl"
  },
  "frequency": 4.67
}
```

### Back-End:

Nessa etapa voc√™ dever√° construir uma API Restful com as melhores pr√°ticas de desenvolvimento.

**Obrigat√≥rio 1** - Voc√™ dever√° atender aos seguintes casos de uso:

- Como usu√°rio, devo ser capaz de realizar login com usu√°rio e senha
- Como usu√°rio, devo ser capaz de visualizar a lista de palavras do dicion√°rio
- Como usu√°rio, devo ser capaz de guardar no hist√≥rico palavras j√° visualizadas
- Como usu√°rio, devo ser capaz de visualizar o hist√≥rico de palavras j√° visualizadas
- Como usu√°rio, deve ser capaz de guardar uma palavra como favorita
- Como usu√°rio, deve ser capaz de apagar uma palavra favorita
- Internamente, a API deve fazer proxy da Words API, pois assim o front ir√° acessar somente a sua API

**Obrigat√≥rio 2** - Voc√™ dever√° desenvolver as seguintes rotas com suas requisi√ß√µes e respostas:

<details open>
<summary>[GET] /</summary>
<p>
Retornar a mensagem "Fullstack Challenge üèÖ - Dictionary"
</p>

```json
{
    "message": "Fullstack Challenge üèÖ - Dictionary"
}
```
</details>
<details open>
<summary>[POST] /auth/signup</summary>

```json
{
    "name": "User 1",
    "email": "example@email.com",
    "password": "test"
}
```

```json
{
    "id": "f3a10cec013ab2c1380acef",
    "name": "User 1",
    "token": "Bearer JWT.Token"
}
```
</details>
<details open>
<summary>[POST] /auth/signin</summary>

```json
{
    "email": "example@email.com",
    "password": "test"
}
```

```json
{
    "id": "f3a10cec013ab2c1380acef",
    "name": "User 1",
    "token": "Bearer JWT.Token"
}
```
</details>
<details open>
<summary>[GET] /entries/en</summary>
<p>
Retornar a lista de palavras do dicion√°rio, com pagina√ß√£o e suporte a busca. O endpoint de pagina√ß√£o de uma busca hipot√©tica deve retornar a seguinte estrutura:
<br/>
[GET]/entries/en?search=fire&limit=4
</p>

```json
{
    "results": [
        "fire",
        "firefly",
        "fireplace",
        "fireman"
    ],
    "totalDocs": 20,
    "page": 1,
    "totalPages": 5, 
    "hasNext": true,
    "hasPrev": false
}
```
</details>
<details open>
<summary>[GET] /entries/en/:word</summary>
<p>
Retornar as informa√ß√µes da palavra especificada e registra o hist√≥rico de acesso.
</p>
</details>
<details open>
<summary>[POST] /entries/en/:word/favorite</summary>
<p>
Salva a palavra na lista de favoritas (retorno de dados no body √© opcional)
</p> 
</details>
<details open>
<summary>[DELETE] /entries/en/:word/unfavorite</summary>
<p>
Remover a palavra da lista de favoritas (retorno de dados no body √© opcional)
</p>
</details> 
<details open>
<summary>[GET] /user/me</summary>
<p>
Retornar o perfil do us√∫ario
</p>
</details> 
<details open>
<summary>[GET] /user/me/history</summary>
<p>
Retornar a lista de palavras visitadas
</p>

```json
{
    "results": [
        {
            "word": "fire",
            "added": "2022-05-05T19:28:13.531Z"
        },
        {
            "word": "firefly",
            "added": "2022-05-05T19:28:44.021Z"
        },
        {
            "word": "fireplace",
            "added": "2022-05-05T19:29:28.631Z"
        },
        {
            "word": "fireman",
            "added": "2022-05-05T19:30:03.711Z"
        }
    ],
    "totalDocs": 20,
    "page": 2,
    "totalPages": 5,
    "hasNext": true,
    "hasPrev": true
}
```
</details> 
<details open>
<summary>[GET] /user/me/favorites</summary>
<p>
Retornar a lista de palavras marcadas como favoritas
</p>

```json
{
    "results": [
        {
            "word": "fire",
            "added": "2022-05-05T19:30:23.928Z"
        },
        {
            "word": "firefly",
            "added": "2022-05-05T19:30:24.088Z"
        },
        {
            "word": "fireplace",
            "added": "2022-05-05T19:30:28.963Z"
        },
        {
            "word": "fireman",
            "added": "2022-05-05T19:30:33.121Z"
        }
    ],
    "totalDocs": 20,
    "page": 2,
    "totalPages": 5,
    "hasNext": true,
    "hasPrev": true
}
```

</details>

Al√©m disso, os endpoints devem utilizar os seguintes c√≥digos de status:
- 200: sucesso com body ou sem body
- 204: sucesso sem body
- 400: mensagem de erro em formato humanizado, ou seja, sem informa√ß√µes internas e c√≥digos de erro:

```json
{
    "message": "Error message"
}
```

**Obrigat√≥rio 3** - Voc√™ deve criar um script para baixar a lista de palavras do reposit√≥rio e importar estas palavras para o banco de dados. A API n√£o possui endpoint com a lista de palavras. Para criar seu endpoint ser√° necess√°rio alimentar o seu banco de dados com o [arquivo existente dentro do projeto no Github](https://github.com/dwyl/english-words/blob/master/words_dictionary.json).

**Obrigat√≥rio 4** - Salvar em cache o resultado das requisi√ß√µes a API, para agilizar a resposta em caso de buscas com par√¢metros repetidos. Sugest√µes s√£o usar o Redis e/ou MongoDB;

O cache pode ser feito a guardar todo o corpo das respostas ou para guardar o resultado das queries do banco. Para identificar a presen√ßa de cache, ser√° necess√°rio adicionar os seguintes headers nas respostas:
- x-cache: valores HIT (retornou dados em cache) ou MISS (precisou buscar no banco)
- x-response-time: dura√ß√£o da requisi√ß√£o em milissegundos

**Diferencial 1** - Descrever a documenta√ß√£o da API utilizando o conceito de Open API 3.0;

**Diferencial 2** - Escrever Unit Tests para os endpoints da API;

**Diferencial 3** - Configurar Docker no Projeto para facilitar o Deploy da equipe de DevOps;

**Diferencial 4** - Deploy em algum servidor, com ou sem automatiza√ß√£o do CI.

**Diferencial 5** - Implementar pagina√ß√£o com cursores ao inves de usar page e limit . Ao realizar este diferencial, o retorno dos endpoints deve possuir a seguinte estrutura:

```json
{
    "results": [
        "fire",
        "firefly",
        "fireplace",
        "fireman"
    ],
    "totalDocs": 20,
    "previous": "eyIkb2lkIjoiNTgwZmQxNmjJkOGI5In0",
    "next": "eyIkb2lkIjoiNTgwZmQxNm1NjJkOGI4In0",
    "hasNext": true,
    "hasPrev": true,
}
```


## Readme do Reposit√≥rio

- Deve conter o t√≠tulo do projeto
- Uma descri√ß√£o sobre o projeto em frase
- Deve conter uma lista com linguagem, framework e/ou tecnologias usadas
- Como instalar e usar o projeto (instru√ß√µes)
- N√£o esque√ßa o [.gitignore](https://www.toptal.com/developers/gitignore)
- Se est√° usando github pessoal, referencie que √© um challenge by coodesh:  

>  This is a challenge by [Coodesh](https://coodesh.com/)

## Finaliza√ß√£o e Instru√ß√µes para a Apresenta√ß√£o

Avisar sobre a finaliza√ß√£o e enviar para corre√ß√£o.

1. Confira se voc√™ respondeu o Scorecard anexado na Vaga que se candidatou;
2. Confira se voc√™ respondeu o Mapeamento anexado na Vaga que se candidatou;
3. Acesse [https://coodesh.com/challenges/review](https://coodesh.com/challenges/review);
4. Adicione o reposit√≥rio com a sua solu√ß√£o;
5. Grave um v√≠deo, utilizando o bot√£o na tela de solicitar revis√£o da Coodesh, com no m√°ximo 5 minutos, com a apresenta√ß√£o do seu projeto. Utilize o tempo para:
- Explicar o objetivo do desafio
- Quais tecnologias foram utilizadas
- Mostrar a aplica√ß√£o em funcionamento
- Foque em pontos obrigat√≥rios e diferenciais quando for apresentar.
6. Adicione o link da apresenta√ß√£o do seu projeto no README.md.
7. Verifique se o Readme est√° bom e fa√ßa o commit final em seu reposit√≥rio;
8. Confira a vaga desejada;
9. Envie e aguarde as instru√ß√µes para seguir no processo. Sucesso e boa sorte. =)

## Suporte

Use a [nossa comunidade](https://discord.gg/rdXbEvjsWu) para tirar d√∫vidas sobre o processo ou envie uma mensagem diretamente a um especialista no chat da plataforma. 
